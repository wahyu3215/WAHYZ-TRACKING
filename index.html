<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name=
  "viewport">
  <title>FSOCIETY TRACK IP</title>
  <link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      background: black;
      color: #ff0000;
      overflow-x: hidden;
    }
    .container {
      max-width: 700px;
      margin: auto;
      padding: 20px;
      background: rgba(0,0,0,0.85);
      border-radius: 10px;
      box-shadow: 0 0 20px #ff0000;
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: none;
      border-radius: 5px;
      background: #ff0000;
      color: #000000;
      font-family: 'Courier New', monospace;
    }
    button {
      background: #ff0000;
      cursor: pointer;
    }
    button:hover {
      background: #000000;
      color: black;
    }
    .result-box, .owner-log {
      margin-top: 20px;
      background: #111;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ff0000;
    }
    .result-box pre, .owner-log pre {
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    #map {
      height: 300px;
      margin-top: 15px;
      border-radius: 10px;
      filter: grayscale(100%) brightness(1.2);
      border: 2px solid #ff0000;
    }
    .success {
      margin-top: 10px;
      color: #ff0000;
      font-weight: bold;
    }
    .logo {
      width: 250px;
      border-radius: 150px;
      margin: auto;
      display: block;
      filter: brightness(1.5);
    }
    .fade-in {
      animation: fadeIn 2s ease-in-out forwards;
      opacity: 0;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .terminal-text {
      font-family: 'Courier New', monospace;
      font-size: 12px;
      white-space: pre-wrap;
      color: #ff0000;
      border-left: 2px solid #ff0000;
      padding-left: 10px;
      margin-top: 10px;
    }
    .scrolling-text {
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      animation: marquee 15s linear infinite;
      border-top: 1px dashed #ff0000;
      padding-top: 5px;
      margin-top: 10px;
    }
    @keyframes marquee {
      from { transform: translateX(10%); }
      to { transform: translateX(-100%); }
    }
  </style>
</head>
<body>
  <div class="container fade-in" id="appBox">
    <img alt="Logo" class="logo" src=
    "https://files.catbox.moe/i9v99q.jpg">
    <h2>WEBSITE TRACKING IP BY WAHYZ NIH DEKK</h2>
    <p>ENTER IP HERE</p><input id="ipInput" placeholder=
    "ENTER IP (EXAMPLE: 8.8.8.8)" type="text"> <button onclick=
    "trackIp()">üîé LACAK IP RIPPER/TEMEN DISINI</button>
    <button onclick="trackMyIp()">üåê LACAK IP GW DONG!!</button>
    <div class="result-box" id="ipResult"></div>
    <div id="map"></div>
    <div class="success" id="successMessage"></div><button onclick=
    "downloadData()">‚¨áÔ∏è Unduh Data Hasil</button> 
    <!-- Settings box dan History telah dihapus -->
    <div class="owner-log" id="ownerLog" style="display:none">
      <h3>üß† Aktivitas Semua Pengguna:</h3>
      <div id="allLogs"></div>
    </div>
    <div class="scrolling-text">
      ‚ö†Ô∏è THIS WEBSITE FOR TRACKING IP | VIP TRACKING
    </div>
  </div>
  <script src=
  "https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script> 
  <script>

    let map, marker, latestData = "";

    function showAllTrackingLogs() {
      const allLogs = JSON.parse(localStorage.getItem("userTrackingLogs") || "[]");
      const container = document.getElementById("allLogs");
      const ownerBox = document.getElementById("ownerLog");
      container.innerHTML = "";
      ownerBox.style.display = "block";

      if (allLogs.length === 0) {
        container.innerHTML = "Belum ada aktivitas.";
        return;
      }

      allLogs.forEach(log => {
        const div = document.createElement("div");
        div.className = "history-entry";
        div.textContent = `[${log.timestamp}] ${log.ip} - ${log.country}, ${log.city}`;
        container.appendChild(div);
      });
    }

    function initMap(lat = 0, lon = 0) {
      if (!map) {
        map = L.map('map').setView([lat, lon], 5);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: 'Peta ¬© OpenStreetMap'
        }).addTo(map);
        marker = L.marker([lat, lon]).addTo(map);
      } else {
        map.setView([lat, lon], 8);
        marker.setLatLng([lat, lon]);
      }
    }

    async function trackIp(inputIp = null) {
      const ip = inputIp || document.getElementById('ipInput').value.trim();
      const resultBox = document.getElementById('ipResult');
      const successMessage = document.getElementById('successMessage');

      if (!ip) return alert("Mohon masukkan alamat IP terlebih dahulu.");
      resultBox.innerHTML = "üîÑ Memproses data, mohon tunggu bentar...";
      successMessage.innerHTML = "";

      try {
        const res = await fetch(`https://ipapi.co/${ip}/json/`);
        const data = await res.json();

        if (!data || data.error) {
          resultBox.innerHTML = `<strong>‚ùå IP Tidak Valid:</strong> ${data.reason || "IP tidak dapat dilacak."}`;
          return;
        }

        const info = `
  Alamat IP      : ${data.ip}
  Negara         : ${data.country_name} (${data.country_code})
  Benua          : ${data.continent_code}
  Kota           : ${data.city || "Tidak tersedia"}
  Wilayah        : ${data.region || "-"}
  Zona Waktu     : ${data.timezone}
  Koordinat      : ${data.latitude}, ${data.longitude}
  ISP            : ${data.org || "-"}
  Organisasi     : ${data.org || "-"}
  Tipe Koneksi   : ${data.version || "IPv4/6"}
  Bahasa Resmi   : ${data.languages || "-"}
  Status         : ‚úÖ IP Valid dan Dilacak
        `.trim();

        resultBox.innerHTML = `<pre>${info}</pre>`;
        successMessage.innerHTML = "‚úÖ Tracking berhasil dilakukan.";
        latestData = info;
        initMap(data.latitude, data.longitude);
      } catch (e) {
        resultBox.innerHTML = `<strong>‚ùå Gagal mengambil data IP.</strong>`;
      }
    }

    async function trackMyIp() {
      const res = await fetch("https://api.ipify.org?format=json");
      const data = await res.json();
      trackIp(data.ip);
    }

    function downloadData() {
      if (!latestData) return alert("Belum ada data untuk diunduh.");
      const blob = new Blob([latestData], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "hasil_pelacakan_ip.txt";
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>